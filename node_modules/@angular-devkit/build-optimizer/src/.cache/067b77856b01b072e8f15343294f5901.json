{"remainingRequest":"/Users/pavijayv/Documents/cisco-ready-qualification/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/Users/pavijayv/Documents/cisco-ready-qualification/node_modules/ag-grid-enterprise/dist/lib/rendering/virtualList.js","dependencies":[{"path":"/Users/pavijayv/Documents/cisco-ready-qualification/node_modules/ag-grid-enterprise/dist/lib/rendering/virtualList.js","mtime":1523957359000},{"path":"/Users/pavijayv/Documents/cisco-ready-qualification/node_modules/cache-loader/dist/cjs.js","mtime":1525383502481},{"path":"/Users/pavijayv/Documents/cisco-ready-qualification/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["// ag-grid-enterprise v17.1.1\n\"use strict\";\nvar __extends = /*@__PURE__*/ require(\"tslib\").__extends;\nvar __decorate = /*@__PURE__*/ require(\"tslib\").__decorate;\nvar __metadata = /*@__PURE__*/ require(\"tslib\").__metadata;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = require(\"ag-grid/main\");\nvar VirtualList = /*@__PURE__*/ (function (_super) {\n    __extends(VirtualList, _super);\n    function VirtualList() {\n        var _this = _super.call(this, null) || this;\n        _this.rowsInBodyContainer = {};\n        _this.rowHeight = 20;\n        return _this;\n    }\n    VirtualList.prototype.init = function () {\n        this.setTemplate(VirtualList.TEMPLATE);\n        this.eListContainer = this.queryForHtmlElement(\".ag-virtual-list-container\");\n        this.addScrollListener();\n        this.rowHeight = this.gridOptionsWrapper.getVirtualItemHeight();\n    };\n    VirtualList.prototype.ensureIndexVisible = function (index) {\n        var lastRow = this.model.getRowCount();\n        if (typeof index !== 'number' || index < 0 || index >= lastRow) {\n            console.warn('invalid row index for ensureIndexVisible: ' + index);\n            return;\n        }\n        // let nodeAtIndex = this.rowModel.getRow(index);\n        var rowTopPixel = index * this.rowHeight;\n        var rowBottomPixel = rowTopPixel + this.rowHeight;\n        var viewportTopPixel = this.getGui().scrollTop;\n        var viewportHeight = this.getGui().offsetHeight;\n        var viewportBottomPixel = viewportTopPixel + viewportHeight;\n        var viewportScrolledPastRow = viewportTopPixel > rowTopPixel;\n        var viewportScrolledBeforeRow = viewportBottomPixel < rowBottomPixel;\n        if (viewportScrolledPastRow) {\n            // if row is before, scroll up with row at top\n            this.getGui().scrollTop = rowTopPixel;\n        }\n        else if (viewportScrolledBeforeRow) {\n            // if row is below, scroll down with row at bottom\n            var newScrollPosition = rowBottomPixel - viewportHeight;\n            this.getGui().scrollTop = newScrollPosition;\n        }\n    };\n    VirtualList.prototype.setComponentCreator = function (componentCreator) {\n        this.componentCreator = componentCreator;\n    };\n    VirtualList.prototype.getRowHeight = function () {\n        return this.rowHeight;\n    };\n    VirtualList.prototype.getScrollTop = function () {\n        return this.getGui().scrollTop;\n    };\n    VirtualList.prototype.setRowHeight = function (rowHeight) {\n        this.rowHeight = rowHeight;\n        this.refresh();\n    };\n    VirtualList.prototype.refresh = function () {\n        if (main_1.Utils.missing(this.model)) {\n            return;\n        }\n        this.eListContainer.style.height = (this.model.getRowCount() * this.rowHeight) + \"px\";\n        this.clearVirtualRows();\n        this.drawVirtualRows();\n    };\n    VirtualList.prototype.clearVirtualRows = function () {\n        var rowsToRemove = Object.keys(this.rowsInBodyContainer);\n        this.removeVirtualRows(rowsToRemove);\n    };\n    VirtualList.prototype.drawVirtualRows = function () {\n        var topPixel = this.getGui().scrollTop;\n        var bottomPixel = topPixel + this.getGui().offsetHeight;\n        var firstRow = Math.floor(topPixel / this.rowHeight);\n        var lastRow = Math.floor(bottomPixel / this.rowHeight);\n        this.ensureRowsRendered(firstRow, lastRow);\n    };\n    VirtualList.prototype.ensureRowsRendered = function (start, finish) {\n        // at the end, this array will contain the items we need to remove\n        var rowsToRemove = Object.keys(this.rowsInBodyContainer);\n        // add in new rows\n        for (var rowIndex = start; rowIndex <= finish; rowIndex++) {\n            // see if item already there, and if yes, take it out of the 'to remove' array\n            if (rowsToRemove.indexOf(rowIndex.toString()) >= 0) {\n                rowsToRemove.splice(rowsToRemove.indexOf(rowIndex.toString()), 1);\n                continue;\n            }\n            // check this row actually exists (in case overflow buffer window exceeds real data)\n            if (this.model.getRowCount() > rowIndex) {\n                var value = this.model.getRow(rowIndex);\n                this.insertRow(value, rowIndex);\n            }\n        }\n        // at this point, everything in our 'rowsToRemove' . . .\n        this.removeVirtualRows(rowsToRemove);\n    };\n    // takes array of row id's\n    VirtualList.prototype.removeVirtualRows = function (rowsToRemove) {\n        var _this = this;\n        rowsToRemove.forEach(function (index) {\n            var component = _this.rowsInBodyContainer[index];\n            _this.eListContainer.removeChild(component.eDiv);\n            if (component.rowComponent.destroy) {\n                component.rowComponent.destroy();\n            }\n            delete _this.rowsInBodyContainer[index];\n        });\n    };\n    VirtualList.prototype.insertRow = function (value, rowIndex) {\n        var eDiv = document.createElement('div');\n        main_1.Utils.addCssClass(eDiv, 'ag-virtual-list-item');\n        eDiv.style.top = (this.rowHeight * rowIndex) + \"px\";\n        var rowComponent = this.componentCreator(value);\n        eDiv.appendChild(rowComponent.getGui());\n        this.eListContainer.appendChild(eDiv);\n        this.rowsInBodyContainer[rowIndex] = {\n            rowComponent: rowComponent,\n            eDiv: eDiv\n        };\n    };\n    VirtualList.prototype.addScrollListener = function () {\n        var _this = this;\n        this.addGuiEventListener('scroll', function () {\n            _this.drawVirtualRows();\n        });\n    };\n    VirtualList.prototype.setModel = function (model) {\n        this.model = model;\n    };\n    VirtualList.TEMPLATE = '<div class=\"ag-virtual-list-viewport\">' +\n        '<div class=\"ag-virtual-list-container\">' +\n        '</div>' +\n        '</div>';\n    __decorate([\n        main_1.Autowired('environment'),\n        __metadata(\"design:type\", main_1.Environment)\n    ], VirtualList.prototype, \"environment\", void 0);\n    __decorate([\n        main_1.Autowired('gridOptionsWrapper'),\n        __metadata(\"design:type\", main_1.GridOptionsWrapper)\n    ], VirtualList.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate([\n        main_1.PostConstruct,\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], VirtualList.prototype, \"init\", null);\n    return VirtualList;\n}(main_1.Component));\nexports.VirtualList = VirtualList;\n",null]}